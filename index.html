/* ========= כיווץ כללי לדסקטופ ========= */
:root{
  /* כיווץ תצוגה בדסקטופ (לא נוגע במובייל ולא בצילום/הדפסה). 
     רוצה יותר קטן? שנה ל-.5 או .4 */
  --desktop-scale: .6;

  /* כיווץ ייעודי להדפסה כדי להיכנס לעמוד אחד */
  --print-scale: .58;
}

@media (min-width: 769px){
  #captureRoot.desktop-compact{
    transform: scale(var(--desktop-scale));
    transform-origin: top center; /* שומר יחס ולא מותח */
    /* לא חובה: אם יש גלילה אופקית אחרי סקייל, אפשר לבטל: */
    /* margin-inline: auto; */
  }
}

/* ========= הדפסה לעמוד אחד נקי ========= */
@media print{
  /* מגדיר דף A4 ושוליים קומפקטיים */
  @page{
    size: A4 portrait;
    margin: 8mm;
  }

  /* מונע טריקים של תצוגה רספונסיבית שחותכים את הרוחב */
  html, body{
    width: 210mm;
    max-width: 210mm;
  }

  /* מכווץ את כל המחשבון כך שייכנס לעמוד אחד */
  #captureRoot.desktop-compact{
    transform: scale(var(--print-scale)) !important;
    transform-origin: top center !important;
  }

  /* מסתיר אלמנטים צפים/דביקים או מובייל־אונלי אם יש */
  .sticky-mobile-actions,
  .mobile-only{
    display: none !important;
  }

  /* מונע שבירות מוזרות בתוך בלוקים */
  .results-column, .inputs-column, .form-section, .result-item{
    break-inside: avoid;
    page-break-inside: avoid;
  }
}
